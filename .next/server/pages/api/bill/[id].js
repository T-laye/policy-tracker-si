"use strict";(()=>{var e={};e.id=428,e.ids=[428],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},9648:e=>{e.exports=import("axios")},6249:(e,a)=>{Object.defineProperty(a,"l",{enumerable:!0,get:function(){return function e(a,t){return t in a?a[t]:"then"in a&&"function"==typeof a.then?a.then(a=>e(a,t)):"function"==typeof a&&"default"===t?a:void 0}}})},3676:(e,a,t)=>{t.a(e,async(e,n)=>{try{t.r(a),t.d(a,{config:()=>d,default:()=>c,routeModule:()=>u});var r=t(1802),i=t(7153),o=t(6249),s=t(8806),l=e([s]);s=(l.then?(await l)():l)[0];let c=(0,o.l)(s,"default"),d=(0,o.l)(s,"config"),u=new r.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/bill/[id]",pathname:"/api/bill/[id]",bundlePath:"",filename:""},userland:s});n()}catch(e){n(e)}})},2961:(e,a,t)=>{t.a(e,async(e,n)=>{try{t.d(a,{a:()=>o});var r=t(9648),i=e([r]);async function o(e){let a=process.env.HUGGING_FACE_API_KEY;console.log(`Detecting bias for: "${e}"`);try{let t=await r.default.post("https://api-inference.huggingface.co/models/facebook/bart-large-mnli",{inputs:e,parameters:{candidate_labels:["neutral","biased left","biased right"]}},{headers:{Authorization:`Bearer ${a}`}});if(console.log("Raw bias detection response:",t.data),t.data&&t.data.labels)return t.data.labels[0];return"No bias detected"}catch(e){return console.error("Error in bias detection:",e.response?.data||e.message),"No bias detected"}}r=(i.then?(await i)():i)[0],n()}catch(e){n(e)}})},3909:(e,a,t)=>{t.a(e,async(e,n)=>{try{t.d(a,{k:()=>o});var r=t(9648),i=e([r]);async function o(e){let a=process.env.HUGGING_FACE_API_KEY;console.log(`Predicting passage likelihood for: "${e}"`);try{let t=await r.default.post("https://api-inference.huggingface.co/models/facebook/bart-large-mnli",{inputs:e,parameters:{candidate_labels:["likely to pass","unlikely to pass"]}},{headers:{Authorization:`Bearer ${a}`}});if(console.log("Raw prediction response:",t.data),t.data&&t.data.labels)return t.data.labels[0];return"No prediction available"}catch(e){return console.error("Error in prediction:",e.response?.data||e.message),"No prediction available"}}r=(i.then?(await i)():i)[0],n()}catch(e){n(e)}})},5499:(e,a,t)=>{t.a(e,async(e,n)=>{try{t.d(a,{i:()=>o});var r=t(9648),i=e([r]);async function o(e){let a=process.env.HUGGING_FACE_API_KEY;console.log(`Analyzing sentiment for: "${e}"`);try{let t=await r.default.post("https://api-inference.huggingface.co/models/nlptown/bert-base-multilingual-uncased-sentiment",{inputs:e},{headers:{Authorization:`Bearer ${a}`}});if(console.log("Raw sentiment response:",t.data),t.data&&Array.isArray(t.data))return t.data[0]?.label||"Unknown sentiment";return"Unknown sentiment"}catch(e){return console.error("Error in sentiment analysis:",e.response?.data||e.message),"Unknown sentiment"}}r=(i.then?(await i)():i)[0],n()}catch(e){n(e)}})},9776:(e,a,t)=>{t.a(e,async(e,n)=>{try{t.d(a,{N:()=>o});var r=t(9648),i=e([r]);async function o(e){let a=process.env.HUGGING_FACE_API_KEY;console.log(`Summarizing the following text: "${e}"`);try{let t=await r.default.post("https://api-inference.huggingface.co/models/facebook/bart-large-cnn",{inputs:e},{headers:{Authorization:`Bearer ${a}`}});return console.log("Raw summarization response:",t.data),t.data[0]?.summary_text||"No summary available"}catch(e){return console.error("Error in summarization:",e.response?.data||e.message),"No summary available"}}r=(i.then?(await i)():i)[0],n()}catch(e){n(e)}})},8806:(e,a,t)=>{t.a(e,async(e,n)=>{try{t.r(a),t.d(a,{default:()=>d});var r=t(9648),i=t(2961),o=t(3909),s=t(9776),l=t(5499),c=e([r,i,o,s,l]);async function d(e,a){let{id:t}=e.query,n=process.env.OPENSTATES_API_KEY;try{let e=(await r.default.get(`https://v3.openstates.org/bills/${t}?apikey=${n}`)).data,c=(0,s.N)(e.description),d=(0,l.i)(e.description),u=(0,o.k)(e),p=(0,i.a)(e.description);a.status(200).json({bill:e,summary:c,sentiment:d,prediction:u,bias:p})}catch(e){console.error("Error fetching bill details:",e),a.status(500).json({message:"Error fetching bill details"})}}[r,i,o,s,l]=c.then?(await c)():c,n()}catch(e){n(e)}})},7153:(e,a)=>{var t;Object.defineProperty(a,"x",{enumerable:!0,get:function(){return t}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(t||(t={}))},1802:(e,a,t)=>{e.exports=t(145)}};var a=require("../../../webpack-api-runtime.js");a.C(e);var t=a(a.s=3676);module.exports=t})();